var os = require('os');
var path = require('path');
var themis = require('language/vimscript').themis;
var rst2html = require('language/restructuredtext').rst2html;

var title = 'Aster â˜† ' + path.basename(os.getwd());

aster.title(title);

// vim
aster.watch(/.+\.(?:vim|vimspec|themisrc)$/, function() {
  themis('--reporter', 'dot');
});

// rst
aster.watch(/.+\.rst$/, function(files) {
  files.some(function(rst) { return rst2html({ options: ['--strict'], src: rst }) });
});
